
<!DOCTYPE html>
<html lang="es"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >

<head th:replace="maintemplate :: head">
</head>

<body class="">

    <div class="wrapper ">

        <div th:replace="maintemplate :: sidebar" class="sidebar" data-color="purple" data-background-color="white"
            data-image="../assets/img/sidebar-1.jpg">
        </div>

        <div class="main-panel">
            <!-- Navbar -->
            <nav th:replace="maintemplate :: navbar"
                class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
            </nav>

            <div class="content">
                
                <div id="manager-container" sec:authorize="!hasRole('ARRENDATARIO')">
                    <form action="" method="get">
                        <div class="row" style="margin-left: 20px;">
                            <div class="form-group col-md-6">
                                <label for="">Seleccione un arrendatario</label>
                                <select class="form-control" id="select-tenant">
                                    <option th:each="arrendatario : ${arrendatarios}" 
                                        th:value="${arrendatario.id}"
                                        th:text="${arrendatario.usuario.nombres} + ' ' + ${arrendatario.usuario.apellidos}">
                                        ArrendatarioID</option>
                                </select>
                            </div>
                        </div>
                    </form>

					<div id="recibo-card-container" class="card-content" style="display: flex; flex-wrap: wrap; margin-left: 35px;">
						
						<!-- <div id="no-receipts" style="display: none;">
							<i class="material-icons" style="font-size: 24em;">receipt</i>
							<span style="font-size: 1.6em; position: absolute; top: 30%">
								Aún no posee recibos de pago
							</span>
						</div> -->
						
						<div class="card" style="width: 20rem; margin: 12px;" th:each="recibo : ${recibos}">
							<img class="card-img-top"
								th:src="${recibo.urlImagen}" 
								rel="nofollow" alt="Card image cap"
								style="height: 260px;">
							<div class="card-body">
								<p class="card-text" 
									th:utext="'<strong>Arrendatario: </strong>' + ${recibo.arrendatario.usuario.nombres + ' ' + recibo.arrendatario.usuario.apellidos}">
									<strong>Arrendatario: </strong>Nombres Apellidos
								</p>
								<p class="card-text" 
									th:utext="'<strong>Periodo: </strong>' + ${recibo.periodoPago}">
									<strong>Periodo: </strong>Abril 2021
								</p>
								<a th:href="@{/recibo/} + ${recibo.id}" class="card-link" target="_blank">Generar factura</a>
								<!-- <input type="hidden" name="repairid" th:value="${recibo.id}"> -->
							</div>
						</div>
	
					</div>

                </div>

                <div id="tenant-container" sec:authorize="hasRole('ARRENDATARIO')">
                    
					<div id="recibo-card-container" class="card-content" style="display: flex; flex-wrap: wrap;">
                    
						<div th:if="${facturas.size == 0}" id="no-receipts" style="display: block;">
							<i class="material-icons" style="font-size: 24em;">receipt_long</i>
							<span style="font-size: 1.6em; position: absolute; top: 30%">
								Aún no posee recibos facturados
							</span>
						</div>
						
						<div class="card" style="width: 18rem; margin: 12px;" th:each="factura : ${facturas}">
							<div class="card-body">
								<h5 class="card-title"><strong>Detalles de la factura</strong> </h5>
								<p th:text="${factura.descripcion}" class="card-text">Detalles</p>
								<p th:utext="${'<strong>Total: </strong>$' + factura.total}" class="card-link">Total</p>
								<h5 th:utext="${'<strong>Fecha de pago: </strong>' + factura.fechaAdmision}" class="card-title"><strong>Fecha de pago</strong> </h5>
							</div>
						  </div>
						  
					</div>
					
                </div>

                <footer th:replace="maintemplate :: footer" class="footer">
                </footer>
            </div>
        </div>
    </div>
    <script>
        document.querySelector(".facturas").classList.add("active")
    </script>
    <div th:replace="maintemplate :: scripts"></div>
	<script type="module" th:src="@{/js/dashboard/factura.js}"></script>
</body>

</html>
